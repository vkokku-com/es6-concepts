<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Scoping</title>
    <script type="text/javascript">
    //Block-scoped variables

    /* ES6 Implementation */
    let callbacks = [];
    for (let i = 0; i <= 2; i++) {
        callbacks[i] = function() {
            return i * 2;
        }
    }
    console.log(callbacks[0]() === 0);
    console.log(callbacks[1]() === 2);
    console.log(callbacks[2]() === 4);

    /* ES5 Implementation */
    var callback = [];
    for (var i = 0; i <= 2; i++) {
        (function(i) {
            callback[i] = function() {
                return i * 2;
            }
        })(i);
    }
    console.log(callback[0]() === 0);
    console.log(callback[1]() === 2);
    console.log(callback[2]() === 4);

    //Block-scoped functions

    /* ES6 Implementation */
    {
        function foo() {
            return 1;
        }
        console.log(foo() === 1);

        {
            function foo() {
                return 2;
            }
            console.log(foo() === 2);
        }
        console.log(foo() === 2);

    }

    /* ES5 Implementation */
    (function() {
        var foo = function() {
            return 1;
        };
        console.log(foo() === 1);
        (function() {
            var foo = function() {
                return 2;
            }
            console.log(foo() === 2);
        })();
        console.log(foo() === 2);
    })();
    </script>
</head>

<body>
    <h1>Scoping</h1>
    <ul>
        <li>Block-scoped variables</li>
        <li>Block-scoped functions</li>
    </ul>
</body>

</html>
